<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // Script gets human's choice by a prompt.
        // Generates a random choice as an answer.
        // Tells who won the round
        // Keeps track on scores and plays 5 rounds
        // After 5 rounds announces who won the game

        const rock = 0;
        const paper = 1;
        const scissors = 2;
        
        function getHumanChoice () {
            let choice = prompt("Enter your choice").toLowerCase();
            if (choice === "rock") {
                return rock;
            } else if (choice === "paper") {
                return paper;
            } else (choice === "scissors"); {
                return scissors;
            }
        }

        function getComputerChoice () {
            let choice = Math.floor(Math.random() * 3);

            let choiceName = "";
            if (choice === rock) {
              choiceName = "Rock";
            } else if (choice === paper) {
              choiceName = "Paper";
            } else if (choice === scissors) {
              choiceName = "Scissors";
            }
            alert("Computer chose:" + choiceName);
            return choice;
        }

        function playRound (human, computer) {
            human = getHumanChoice();
            computer = getComputerChoice();

            console.log("Human chose:", human);
            console.log("Computer chose:", computer);

            if (
                (computer === rock && human === paper) ||
                (computer === paper && human === scissors) ||
                (computer === scissors && human === rock)
            ) {
                alert("You won!");
                return "win"
            } else if (
                (computer === rock && human === scissors) ||
                (computer === paper && human === rock) ||
                (computer === scissors && human === paper)
            ) {
                alert("You lost!");
                return "lose"
            } else {
                alert("Draw!");
                return "draw"
            }
        }

        function playGame () {
            let game1 = playRound();
            let game2 = playRound();
            let game3 = playRound();
            let game4 = playRound();
            let game5 = playRound();

            let result = [game1, game2, game3, game4, game5];
            let wins = result.filter(r => r === "win").length;
            let loses = result.filter(r => r === "lose").length;
            let draws = result.filter(r => r === "draw").length;

            if (wins > loses) {
                alert("You won the game! Your score: " + wins + ". Computer's score: " + loses + ".");
            } else if (wins < loses) {
                alert("You lost the game! Your score: " + wins + ". Computer's score: " + loses + ".");
            } else {
                alert("It's a draw! Your score: " + wins + ". Computer's score: " + loses + ".");
            }
        }

        playGame();
    </script>
</body>
</html>